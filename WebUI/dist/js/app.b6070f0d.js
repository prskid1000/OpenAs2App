(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function i(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"dda534f6","chunk-2d216257":"69e90091","chunk-566b789a":"55363664"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=i(e);var c=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,a[1](c)}n[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03a8":function(e,t,a){},"0d6a":function(e,t,a){},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=function(){var e=this,t=e._self._c;return t("v-app",[t("div",{staticClass:"container-fluid",attrs:{id:"app"}},[e.is_logged?t("div",[t("admin-layout")],1):t("div",[t("login-screen")],1)])])},s=[],i=a("2f62"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"loginscreen"}},[e.loading?t("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("Signing in...")]):t("form",{staticClass:"form-signin"},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"120"}},[t("text",{staticStyle:{color:"red"},attrs:{x:"55",y:"50","font-size":"20"}},[e._v("Open")]),t("text",{attrs:{x:"5",y:"95","font-size":"55","font-weight":"bolder"}},[e._v("AS2")])]),t("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("Please sign in")]),t("label",{staticClass:"sr-only",attrs:{for:"inputUsername"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"inputUsername",placeholder:"Username",required:"",autofocus:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("label",{staticClass:"sr-only",attrs:{for:"inputServer"}},[e._v("Server")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.server,expression:"server"}],staticClass:"form-control",attrs:{type:"text",id:"inputServer",placeholder:"Server",required:"",autofocus:""},domProps:{value:e.server},on:{input:function(t){t.target.composing||(e.server=t.target.value)}}}),t("div",{staticClass:"checkbox mb-3"},[t("label",[t("input",{attrs:{type:"checkbox",value:"remember-me"},domProps:{checked:e.rememberme}}),e._v(" Remember me\n        ")])]),t("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"},on:{click:e.login}},[e._v("Sign in")]),e.errored?t("div",{staticClass:"alert alert-primary",attrs:{role:"alert"},domProps:{innerHTML:e._s(e.errormsg)}}):e._e(),t("p",{staticClass:"mt-5 mb-3 text-muted"},[e._v("Â© 2017-2019")])])])},l=[],c=(a("96cf"),a("1da1")),u=a("cee4"),d='https://ec2-3-101-28-243.us-west-1.compute.amazonaws.com:8443/api/as2message/list/?Id=""&accountId=""&userId=""',m='https://ec2-3-101-28-243.us-west-1.compute.amazonaws.com:8443/api/as2message/list/?orgId=""&accountId=""&userId=""',f=function(e){return u["a"].get(d+"&"+"startDate=".concat(e.startDate)+"&"+"endDate=".concat(e.lastDate),{headers:{Authorization:"Basic dXNlcklEOnBXZA=="}})},p=function(e){return u["a"].get(m+"&"+"".concat(e),{headers:{Authorization:"Basic dXNlcklEOnBXZA=="}})},h={getTableDataByDate:f,getTableDataByInterval:p},b={namespaced:!0,state:{tableData:null},getters:{},actions:{fetchTableDataByDate:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,h.getTableDataByDate(a);case 4:return n=e.sent,r("set_data",n.data.results),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t,a){return e.apply(this,arguments)}return t}(),fetchTableDataByInterval:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,h.getTableDataByInterval(a);case 4:return n=e.sent,r("set_data",n.data.results),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t,a){return e.apply(this,arguments)}return t}()},mutations:{set_data:function(e,t){e.tableData=null,e.tableData=t}}};r["default"].use(i["a"]);var g=new i["a"].Store({modules:{dashboardModule:b},debug:!0,state:{username:null,password:null,server:null},actions:{loginAction:function(e,t){this.debug&&console.log("Logging with ".concat(t.user," and ").concat(t.pass)),e.commit("login",t)},logoutAction:function(e){this.debug&&console.log("Logout"),e.commit("logout")}},mutations:{login:function(e,t){return e.username=t.user,e.password=t.pass,e.server=t.server,e},logout:function(e){return e.username=null,e.password=null,e}}}),v=g,_={name:"login-screen",data:function(){return{username:"",password:"",server:"http://ec2-63-35-180-198.eu-west-1.compute.amazonaws.com/api",rememberme:!1,loading:!1,errormsg:"",errored:!1}},methods:{login:function(e){var t=this;this.errormsg=null,this.errored=!1,console.log(e);var a=btoa("".concat(this.username,":").concat(this.password)),r="Basic "+a;this.loading=!0,u["a"].get(this.server+"/",{headers:{Authorization:r}}).then((function(e){console.log("Login Response",e.data),"OK"==e.data.type?v.dispatch("loginAction",{user:t.username,pass:t.password,server:t.server}):t.errormsg=e.data.result})).catch((function(e){console.log(e),t.errored=!0,t.errormsg=e})).finally((function(){return t.loading=!1}))}}},w=_,y=(a("7453"),a("2877")),x=Object(y["a"])(w,o,l,!1,null,null,null),j=x.exports,k=function(){var e=this,t=e._self._c;return t("div",[e.$screen.width>=576?t("top-menu",{attrs:{openSidemenu:e.openSidemenu,closedMenuMovil:e.closedMenuMovil,showMenu:e.showMenu}}):e._e(),e.$screen.width<576?t("top-menu-phone",{attrs:{openSidemenu:e.openSidemenu,closedMenuMovil:e.closedMenuMovil,showMenu:e.showMenu}}):e._e(),t("div",{},[t("b-row",{staticClass:"mt-n3",attrs:{"no-gutters":""}},[t("b-col",{attrs:{sm:"3",md:"2",lg:"2"}},[t("side-menu",{attrs:{showMenu:e.showMenu}})],1),t("b-col",{staticClass:"border-left",attrs:{sm:e.showMenu?9:12,md:e.showMenu?10:12,lg:e.showMenu?10:12}},[t("b-container",{staticClass:"mt-3",attrs:{fluid:""}},[t("router-view")],1)],1)],1)],1)],1)},C=[],O=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 d-flex shadow menu-custom"},[t("a",{staticClass:"navbar-brand col-sm-3 col-md-2 col-lg-2 mr-0",attrs:{href:"#"}},[e._v(" OpenAS2 ")]),t("div",{staticClass:"p-2",on:{click:e.openSidemenu}},[t("b-icon",{attrs:{icon:"menu-button-wide",variant:"white"}})],1),t("ul",{staticClass:"navbar-nav px-3 ml-auto"},[t("b-nav-item-dropdown",{attrs:{block:"",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("b-avatar",{attrs:{variant:"primary",text:e.abbreviationName,size:"sm"}}),t("small",{staticClass:"ml-2 text-white"},[e._v(e._s(e.userName))])]},proxy:!0}])},[t("b-dropdown-item",{attrs:{href:"#"},on:{click:e.logout}},[e._v("Sign Out")])],1)],1)])},A=[],M=(a("7f7f"),a("8c4f")),S=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"dashboard"}},[t("b-breadcrumb",{attrs:{items:e.breadcrumbs}}),e._m(0),t("b-row",[t("b-col",{attrs:{md:"4"}},[t("b-card",{staticClass:"text-center mt-1",attrs:{"bg-variant":"warning","text-variant":"white",header:"Total Partners"}},[t("b-card-text",[t("b-row",{attrs:{"align-h":"between"}},[t("b-col",[t("b-icon",{attrs:{icon:"person","font-scale":"3 "}})],1),t("b-col",[t("h1",[e._v(e._s(e.countPartners))])])],1)],1)],1)],1),t("b-col",{attrs:{md:"4"}},[t("b-card",{staticClass:"text-center mt-1",attrs:{"bg-variant":"dark","text-variant":"white",header:"Total Connections"}},[t("b-card-text",[t("b-row",{attrs:{"align-h":"between"}},[t("b-col",[t("b-icon",{attrs:{icon:"people","font-scale":"3 "}})],1),t("b-col",[t("h1",[e._v(e._s(e.countPartnerships))])])],1)],1)],1)],1),t("b-col",{attrs:{md:"4"}},[t("b-card",{staticClass:"text-center mt-1",attrs:{"bg-variant":"info","text-variant":"white",header:"Total Certificates"}},[t("b-card-text",[t("b-row",{attrs:{"align-h":"between"}},[t("b-col",[t("b-icon",{attrs:{icon:"file-earmark-richtext","font-scale":"3 "}})],1),t("b-col",[t("h1",[e._v(e._s(e.countCertificates))])])],1)],1)],1)],1),t("b-row",{staticClass:"justify-content-md-center mt-3"},[t("b-col",{attrs:{md:"4"}},[t("date-range-picker",{attrs:{opens:"left"},on:{update:e.changeDate},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)],1),t("b-col",{staticClass:"mt-3",attrs:{md:e.dataChart["sent"].valuesX.length<15?"6":"12"}},[t("chart-line",{attrs:{labels:e.dataChart["sent"].valuesX,datasets:e.allState}})],1),e._l(e.states,(function(a,r){return t("b-col",{key:r,staticClass:"mt-3",attrs:{md:e.dataChart[a].valuesX.length<15?"6":"12"}},[t("chart-bar",{attrs:{labels:e.dataChart[a].valuesX,datasets:e.dataChart[a].valuesY,title:e.dataChart[a].valuesX.label}})],1)})),t("messages-admin")],2)],1)},D=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[t("h1",{staticClass:"h2"},[e._v("Dashboard")])])}],E=(a("6762"),a("2fdb"),a("ac6a"),function(){var e=this,t=e._self._c;return t("LineChartGenerator",{attrs:{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,"dataset-id-key":e.datasetIdKey,plugins:e.plugins,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height}})}),R=[],P=(a("c5f6"),a("7b97")),T=a("c1df"),N=a.n(T),I=a("dd61");I["e"].register(I["p"],I["q"],I["g"],I["i"],I["j"],I["d"],I["l"]);var L={name:"LineChart",components:{LineChartGenerator:P["b"]},props:{chartId:{type:String,default:"line-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Array,default:function(){return[]}},labels:{type:Array},datasets:{type:Array}},data:function(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1}}},computed:{chartData:function(){return{labels:this.labels,datasets:this.datasets}},getRandomArbitrary:function(){for(var e=[],t=1,a=100,r=0;r<30;r++)e.push(Math.round(Math.random()*(a-t)+t));return e},getRandomArbitrary2:function(){for(var e=[],t=1,a=100,r=0;r<30;r++)e.push(Math.round(Math.random()*(a-t)+t));return e},getRandomArbitrary3:function(){for(var e=[],t=1,a=100,r=0;r<30;r++)e.push(Math.round(Math.random()*(a-t)+t));return console.log("numbers",e),e},categories:function(){for(var e=[],t=(Math.random(),1);t<31;t++)e.push(N()("2022/04/".concat(t)).format("YYYY/MM/DD"));return e}}},B=L,F=Object(y["a"])(B,E,R,!1,null,null,null),$=F.exports,z=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"messages"}},[e.isPathMessageList?t("b-breadcrumb",{attrs:{items:e.breadcrumbs}}):e._e(),t("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[t("h1",{staticClass:"h2"},[e._v("Messages")]),t("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[t("div",{staticClass:"btn-group mr-2"},[e.isPathMessageList?t("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.getList()}}},[t("b-icon",{attrs:{icon:"arrow-repeat"}}),e._v("\n          Refresh")],1):e._e(),t("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:e.exportPdf}},[t("b-icon",{attrs:{icon:"file-earmark-pdf-fill"}}),e._v("\n          Export")],1),t("b-button",{attrs:{variant:"success",size:"sm"},on:{click:e.exportExcel}},[t("b-icon",{attrs:{icon:"file-earmark-excel-fill"}}),e._v("\n          Export")],1)],1)])]),t("filter-message-table",{attrs:{filter:e.filter,filterField:e.filterField},on:{filterItems:e.filterItems}}),t("div",{attrs:{id:"table-message"}},[t("table-custom-message",{ref:"table-messages",attrs:{items:e.getFilterItems,fields:e.fields,filter:e.filter,stateMap:e.stateMap,showFilter:e.showFilter},on:{deleteObject:e.deleteObject,editObject:e.editObject,showObject:e.showObject}},[t("div",{staticClass:"frame"},[e._t("filter",(function(){return[e._v("Title")]}))],2)])],1),t("b-modal",{attrs:{"hide-footer":"",id:e.infoModal.id,title:e.infoModal.title,"ok-only":""}},[e.infoModal.title?t("form-custom",{attrs:{title:"Message Editor",schema:e.schema,model:e.item},on:{commit:e.saveObject,revert:e.resetModal}}):e._e()],1)],1)},q=[],Y=(a("7514"),function(){var e=this,t=e._self._c;return t("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._l(e.schema.fields,(function(a,r){return["select"===a.type?[void 0==a.show||a.show?t("b-form-group",{key:r,attrs:{id:"type-".concat(a.name),label:a.label,"label-for":a.name}},[t("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:a._validate,expression:"field._validate"}],attrs:{disabled:!!a.disabled&&a.disabled,id:a.name,name:a.name,type:a.type,placeholder:a.placeholder,state:e.validateState(a.name),"data-vv-as":a.label,options:a.list,"aria-describedby":"".concat(a.name,"-feedback")},model:{value:e.model[a.name],callback:function(t){e.$set(e.model,a.name,t)},expression:"model[field.name]"}}),t("b-form-invalid-feedback",{attrs:{id:"".concat(a.name,"-feedback")}},[e._v(e._s(e.veeErrors.first(a.name)))])],1):e._e()]:"textarea"===a.type?[void 0==a.show||a.show?t("b-form-group",{key:r,attrs:{id:"type-".concat(a.name),label:a.label,"label-for":a.name}},[t("b-form-textarea",{directives:[{name:"validate",rawName:"v-validate",value:a._validate,expression:"field._validate"}],attrs:{disabled:!!a.disabled&&a.disabled,id:a.name,name:a.name,placeholder:a.placeholder,state:e.validateState(a.name),"data-vv-as":a.label,options:a.list,"aria-describedby":"".concat(a.name,"-feedback"),rows:"5","max-rows":"6"},model:{value:e.model[a.name],callback:function(t){e.$set(e.model,a.name,t)},expression:"model[field.name]"}}),t("b-form-invalid-feedback",{attrs:{id:"".concat(a.name,"-feedback")}},[e._v(e._s(e.veeErrors.first(a.name)))])],1):e._e()]:"datepicker"===a.type?[void 0==a.show||a.show?t("b-form-group",{key:r,attrs:{id:"type-".concat(a.name),label:a.label,"label-for":a.name}},[t("b-form-datepicker",{directives:[{name:"validate",rawName:"v-validate",value:a._validate,expression:"field._validate"}],attrs:{disabled:!!a.disabled&&a.disabled,id:a.name,name:a.name,placeholder:a.placeholder,state:e.validateState(a.name),"data-vv-as":a.label,options:a.list,"aria-describedby":"".concat(a.name,"-feedback")},model:{value:e.model[a.name],callback:function(t){e.$set(e.model,a.name,t)},expression:"model[field.name]"}}),t("b-form-invalid-feedback",{attrs:{id:"".concat(a.name,"-feedback")}},[e._v(e._s(e.veeErrors.first(a.name)))])],1):e._e()]:"file"===a.type?[void 0==a.show||a.show?t("b-form-group",{key:r,attrs:{id:"type-".concat(a.name),label:a.label,"label-for":a.name}},[t("b-form-file",{directives:[{name:"validate",rawName:"v-validate",value:a._validate,expression:"field._validate"}],attrs:{accept:a.accept?a.accept:"*",disabled:!!a.disabled&&a.disabled,id:a.name,name:a.name,placeholder:a.placeholder,state:e.validateState(a.name),"data-vv-as":a.label,options:a.list,"aria-describedby":"".concat(a.name,"-feedback")},on:{change:e.fileUpload},model:{value:e.model[a.name],callback:function(t){e.$set(e.model,a.name,t)},expression:"model[field.name]"}}),t("b-form-invalid-feedback",{attrs:{id:"".concat(a.name,"-feedback")}},[e._v(e._s(e.veeErrors.first(a.name)))])],1):e._e()]:"checkbox"===a.type?[void 0==a.show||a.show?t("b-form-group",{key:r,attrs:{id:"type-".concat(a.name),"label-for":a.name}},[t("b-form-checkbox",{directives:[{name:"validate",rawName:"v-validate",value:a._validate,expression:"field._validate"}],attrs:{disabled:!!a.disabled&&a.disabled,id:a.name,name:a.name,type:a.type,placeholder:a.placeholder,state:e.validateState(a.name),"data-vv-as":a.label,"aria-describedby":"".concat(a.name,"-feedback")},model:{value:e.model[a.name],callback:function(t){e.$set(e.model,a.name,t)},expression:"model[field.name]"}},[e._v(e._s(a.label))]),t("b-form-invalid-feedback",{attrs:{id:"".concat(a.name,"-feedback")}},[e._v(e._s(e.veeErrors.first(a.name)))])],1):e._e()]:[void 0==a.show||a.show?t("b-form-group",{key:r,attrs:{id:"type-".concat(a.name),label:a.label,"label-for":a.name}},[t("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:a._validate,expression:"field._validate"}],attrs:{disabled:!!a.disabled&&a.disabled,id:a.name,name:a.name,type:a.type,placeholder:a.placeholder,state:e.validateState(a.name),"data-vv-as":a.label,"aria-describedby":"".concat(a.name,"-feedback")},model:{value:e.model[a.name],callback:function(t){e.$set(e.model,a.name,t)},expression:"model[field.name]"}}),t("b-form-invalid-feedback",{attrs:{id:"".concat(a.name,"-feedback")}},[e._v(e._s(e.veeErrors.first(a.name)))])],1):e._e()]]})),t("b-row",[t("b-button-group",[t("b-button",{attrs:{disabled:e.loading,type:"submit",variant:"success",size:"sm"}},[e._v("Save")]),t("b-button",{attrs:{disabled:e.loading,size:"sm"},on:{click:e.cancelForm}},[e._v("Cancel")])],1)],1)],2)}),U=[],H={props:{schema:{type:Object,require:!0},model:{type:Object,required:!0},title:{type:String,required:!1},loading:{type:Boolean,default:!1}},data:function(){return{data:{}}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.data=this.model;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{validateState:function(e){return this.veeFields[e]&&(this.veeFields[e].dirty||this.veeFields[e].validated)?!this.veeErrors.has(e):null},submitForm:function(e){var t=this;e.preventDefault(),this.$validator.validateAll().then((function(e){e&&t.$emit("commit",t.data)}))},cancelForm:function(e){this.$emit("revert",this.data._id)},fileUpload:function(e){var t=document.getElementById(e.target.name).files[0];console.log("e",e.target.name),console.log("onfile",t),t.size>0&&(console.log("onfile"),this.$emit("fileUpload",{file:t,e:e}))}}},K=H,X=Object(y["a"])(K,Y,U,!1,null,null,null),G=X.exports,W=function(){var e=this,t=e._self._c;return t("div",[t("b-row",[[t("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"4"}},[t("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"5","label-cols-lg":"4","label-align-sm":"right","label-size":"sm"}},[t("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),t("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"8"}},[t("b-pagination",{staticClass:"my-0",attrs:{"total-rows":this.filteredItems.length,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)]],2),t("b-table",{attrs:{responsive:"",items:e.filteredItems,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter.text,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(state)",fn:function(a){return[e.stateMap["ok"].includes(a.item.state)?t("b-badge",{attrs:{variant:"success"}},[e._v("O")]):e._e(),e.stateMap["pending"].includes(a.item.state)?t("b-badge",{attrs:{variant:"warning"}},[e._v("P")]):e._e(),e.stateMap["stop"].includes(a.item.state)?t("b-badge",{attrs:{variant:"danger"}},[e._v("S")]):e._e()]}},{key:"cell(actions)",fn:function(a){return[a.item.actions.edit&&a.item.actions.edit.show?t("b-button",{staticClass:"mr-1",attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.editItem(a.item)}}},[e._v("\n        "+e._s(a.item.actions.edit?a.item.actions.edit.name:"Edit")+"\n      ")]):e._e(),a.item.actions.delete&&a.item.actions.delete.show?t("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return e.deleteItem(a.item)}}},[e._v("\n        "+e._s(a.item.actions.delete?a.item.actions.delete.name:"Delete")+"\n      ")]):e._e(),a.item.actions.show&&a.item.actions.show.show?t("b-button",{staticClass:"mr-1",attrs:{variant:"secondary",size:"sm"},on:{click:function(t){return e.showItem(a.item)}}},[e._v("\n        "+e._s(a.item.actions.show?a.item.actions.show.name:"Show")+"\n      ")]):e._e()]}}])}),t("b-row")],1)},V=[],Q=(a("4f7f"),a("5df3"),a("1c4c"),a("7f45")),J={data:function(){return{totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,{value:100,text:"Show a lot"}],sortBy:"key",sortDesc:!1,sortDirection:"asc",filterOn:[],selectVal:{key:"",state:"",timestamp:"",location:"",message:"",payload:"",encryption:"",signature:"",mdn:""}}},props:{items:{type:Array,required:!0},fields:{type:Array,required:!0},showFilter:{type:Boolean,default:!0},filter:{type:Object,default:function(){return{text:""}}},stateMap:{type:Object}},computed:{filteredItems:function(){var e=this;return this.items.filter((function(t){var a=!0;return e.fields.forEach((function(r){a=a&&(void 0===e.selectVal[r]||t[r]===e.selectVal[r])})),a}))},options:function(){var e=this,t={};return this.fields.forEach((function(a){var r=e.items.map((function(e){return e[a]}));t[a]=Array.from(new Set(r))})),t}},mounted:function(){this.totalRows=this.filteredItems.length},methods:{showTime:function(e){return Q.tz(e,"America/New_York")},editItem:function(e){this.$emit("editObject",e)},showItem:function(e){this.$emit("showObject",e)},deleteItem:function(e){this.$emit("deleteObject",e)},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}}},Z=J,ee=Object(y["a"])(Z,W,V,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e._self._c;return t("div",[t("b-row",[e._l(e.filterField.locations,(function(a,r){return t("b-col",{key:r,attrs:{sm:"6",md:"2",lg:"2"}},[t("b-form-group",{attrs:{id:a.name,label:a.label,"label-for":a.name}},[t("b-form-select",{attrs:{id:a.name,name:a.name,placeholder:"",options:a.list},model:{value:e.filter[a.name],callback:function(t){e.$set(e.filter,a.name,t)},expression:"filter[location.name]"}})],1)],1)})),t("b-col",{attrs:{sm:"6",md:"3",lg:"3"}},[t("b-form-group",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.ariaDescribedby;return[t("b-form-checkbox-group",{attrs:{"aria-describedby":r,name:"states",stacked:""},on:{change:function(t){return e.filterItems("states")}},model:{value:e.filter.states,callback:function(t){e.$set(e.filter,"states",t)},expression:"filter.states"}},e._l(e.filterField.states,(function(a,r){return t("b-form-checkbox",{key:r,attrs:{value:a.value}},[t("b-badge",{attrs:{variant:a.badge}},[e._v(e._s(a.text))])],1)})),1)]}}])})],1),t("b-col",{attrs:{sm:"6",md:"4",lg:"4"}},[t("b-form-group",{attrs:{label:"Date/time display"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.ariaDescribedby;return e._l(e.filterField.dateTimes,(function(a,n){return t("b-form-radio",{key:n,attrs:{"aria-describedby":r,name:"dateTime",value:a.value},on:{change:function(t){return e.filterItems("dateTime")}},model:{value:e.filter.dateTime,callback:function(t){e.$set(e.filter,"dateTime",t)},expression:"filter.dateTime"}},[e._v(e._s(a.text))])}))}}])})],1)],2)],1)},re=[],ne={props:{filter:{type:Object,default:function(){return{text:"",location:"",local:"",states:[],dateTime:"local"}}},filterField:{type:Object}},data:function(){return{list:[{value:"",text:"All"},{value:"MyCompany",text:"MyCompany"},{value:"PartnerB",text:"PartnerB"},{value:"PartnerA",text:"PartnerA"}],listDisplay:[{text:"Display ok",value:"ok",badge:"success",ab:"O"},{text:"Display pending",value:"pending",badge:"warning",ab:"P"},{text:"Display stop",value:"stop",badge:"danger",ab:"S"}],listDateTime:[{text:"Local[America/Caracas; -04:00]",value:"local"},{text:"AS2 Server[Europe/Berlin; +02:00]",value:"server"}]}},methods:{filterItems:function(e){this.$emit("filterItems",e)}}},se=ne,ie=Object(y["a"])(se,ae,re,!1,null,null,null),oe=ie.exports,le=a("53ca"),ce={URLEncode:function(e,t,a){if(a=a||[],"object"==Object(le["a"])(e))for(var r in e)ce.URLEncode(e[r],t?t+"["+r+"]":r,a);else a.push(t+"="+encodeURIComponent(e));return a.join("&")},Crud:{getList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=v.state.server+"/".concat(t,"/list"),e.prev=1,e.next=4,u["a"].get(a,{auth:{username:v.state.username,password:v.state.password}});case 4:if(r=e.sent,"OK"!==r.data.type){e.next=9;break}return e.abrupt("return",r.data.results);case 9:throw r.data.result;case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e["catch"](1),console.log(e.t0),"Error getting ".concat(t," list:\n").concat(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));function t(t){return e.apply(this,arguments)}return t}(),getListChart:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=v.state.server+"/".concat(t,"/data_charts?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate),e.prev=1,e.next=4,u["a"].get(r,{auth:{username:v.state.username,password:v.state.password}});case 4:if(n=e.sent,"OK"!==n.data.type){e.next=9;break}return e.abrupt("return",n.data.results);case 9:throw n.data.result;case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e["catch"](1),console.log(e.t0),"Error getting ".concat(t," list:\n").concat(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));function t(t,a){return e.apply(this,arguments)}return t}(),getObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a,r){var n,s,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Loading Object ".concat(a," from ").concat(t)),n=Object.assign({},r,{_id:null}),"new"!==a){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.getList(t);case 6:return s=e.sent,console.log(s),i=s[a],o=v.state.server+"/".concat(t,"/view/").concat(i),console.log(o),e.prev=11,e.next=14,u["a"].get(o,{auth:{username:v.state.username,password:v.state.password}});case 14:if(l=e.sent,"OK"!=l.data.type){e.next=21;break}return c=l.data.results[0],c._id=a,e.abrupt("return",c);case 21:throw l.data.result;case 22:e.next=28;break;case 24:throw e.prev=24,e.t0=e["catch"](11),console.log(e.t0),"Error loading Object ".concat(a,":\n").concat(e.t0);case 28:case"end":return e.stop()}}),e,this,[[11,24]])})));function t(t,a,r){return e.apply(this,arguments)}return t}(),getObjectFilter:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a,r){var n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=v.state.server+"/".concat(t,"/filter/").concat(r.name),console.log(n),e.prev=2,e.next=5,u["a"].get(n,{auth:{username:v.state.username,password:v.state.password}});case 5:if(s=e.sent,"OK"!=s.data.type){e.next=12;break}return i=s.data.results[0],i._id=a,e.abrupt("return",i);case 12:throw s.data.result;case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e["catch"](2),console.log(e.t0),"Error loading Object ".concat(a,":\n").concat(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));function t(t,a,r){return e.apply(this,arguments)}return t}(),saveObject:function(e,t){var a=this;console.log("Saving",t);var r=t._id;return null!==r?this.deleteObject(e,r).then((function(){return a.createObject(e,t)})):this.createObject(e,t)},importCertificate:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Creating",t),a=v.state.server+"/cert/importbystream/".concat(t.alias),e.prev=2,r="",t._prefix&&(r=t._prefix+"&"),delete t._prefix,r+=ce.URLEncode(t),console.log("Posting Data",r),e.next=10,u["a"].post(a,r,{auth:{username:v.state.username,password:v.state.password}});case 10:if(n=e.sent,"OK"!==n.data.type){e.next=15;break}return e.abrupt("return",!0);case 15:throw n.data.result;case 16:e.next=22;break;case 18:throw e.prev=18,e.t0=e["catch"](2),console.log(e.t0,a),"Error Creating Object:\n".concat(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));function t(t){return e.apply(this,arguments)}return t}(),createObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Creating",a),r=v.state.server+"/".concat(t,"/add/").concat(a.name),e.prev=2,n="",a._prefix&&(n=a._prefix+"&"),delete a._prefix,n+=ce.URLEncode(a),console.log("Posting Form",n),e.next=10,u["a"].post(r,n,{auth:{username:v.state.username,password:v.state.password}});case 10:if(s=e.sent,"OK"!==s.data.type){e.next=15;break}return e.abrupt("return",!0);case 15:throw s.data.result;case 16:e.next=22;break;case 18:throw e.prev=18,e.t0=e["catch"](2),console.log(e.t0,r),"Error Creating Object:\n".concat(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));function t(t,a){return e.apply(this,arguments)}return t}(),deleteObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Deleting",a),e.next=3,this.getList(t);case 3:return r=e.sent,n=r[a],s=v.state.server+"/".concat(t,"/delete/").concat(n),e.prev=6,e.next=9,u["a"].get(s,{auth:{username:v.state.username,password:v.state.password}});case 9:if(i=e.sent,"OK"!==i.data.type){e.next=14;break}return e.abrupt("return",!0);case 14:throw i.data.result;case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e["catch"](6),console.log(e.t0,s),"Error deleting Object ".concat(a,":\n").concat(e.t0);case 21:case"end":return e.stop()}}),e,this,[[6,17]])})));function t(t,a){return e.apply(this,arguments)}return t}()}},ue=ce,de=a("3d20"),me=a.n(de),fe=a("8baf"),pe=a("0da4"),he=a.n(pe),be=a("2ef0"),ge=a("25ca"),ve={data:function(){return{breadcrumbs:[{text:"Dashboard",to:{name:"Dashboard"},active:!1},{text:"Messages",to:{name:"Messages"},active:!0}],filter:{text:"",sender_id:"",receiver_id:"",states:["ok","pending","stop"],dateTime:"America/Caracas"},stateMap:{ok:["msg_send_start","msg_receive_start","mdn_send_start","mdn_receive_start","msg_sent_mdn_received_ok","msg_rxd_mdn_sent_ok","msg_rxd_mdn_not_requested_ok","msg_sent_mdn_received_mic_mismatch"],pending:["msg_send_exception","msg_receive_exception","mdn_sending_exception","mdn_receiving_exception"],stop:["msg_send_fail","msg_send_fail_resend_queued","msg_receive_fail","msg_rxd_asyn_mdn_send_fail_resend_queued","mdn_asyn_receive_fail","msg_rxd_mdn_sending_fail","msg_receive_error_sending_mdn_error","msg_sent_mdn_received_error"]},showFilter:!1,filterField:{locations:[{type:"select",name:"sender_id",label:"Local station",list:[{value:"",text:"All"}]},{type:"select",name:"receiver_id",label:"Remote station",list:[{value:"",text:"All"}]}],states:[{text:"Display ok",value:"ok",badge:"success",ab:"O"},{text:"Display pending",value:"pending",badge:"warning",ab:"P"},{text:"Display stop",value:"stop",badge:"danger",ab:"S"}],dateTimes:[{type:"radio",text:"Local[America/Caracas; -04:00]",value:"America/Caracas"},{type:"radio",text:"AS2 Server[Europe/Berlin; +02:00]",value:"Europe/Berlin"}]},schema:{fields:[{key:"name",type:"text",name:"name",label:"Message ID",placeholder:"Trading Message's Unique Key Name",_validate:{required:!0}},{type:"text",name:"as2_id",label:"AS2 ID",placeholder:"Trading Message's AS2 ID",_validate:{required:!0}},{type:"email",name:"email",label:"Email",placeholder:"Trading Message's Email Address",_validate:{required:!0,email:!0}},{type:"select",name:"x509_alias",label:"Certificate Alias",_validate:{required:!0},list:[]}]},infoModal:{id:"info-modal",title:""},items:[],item:{_id:null,name:"",as2_id:"",email:"",x509_alias:""}}},components:{FormCustom:G,TableCustomMessage:te,FilterMessageTable:oe},computed:{isPathMessageList:function(){return"Messages"==this.$route.name},getFilterItems:function(){var e=this,t=this.items;if(""!=this.filter.sender_id&&(t=be.filter(t,(function(t){return t.sender_id==e.filter.sender_id}))),""!=this.filter.receiver_id&&(t=be.filter(t,(function(t){return t.receiver_id==e.filter.receiver_id}))),0==this.filter.states.length)t=[];else{var a=[];this.filter.states.forEach((function(r){var n=be.filter(t,(function(t){return be.find(e.stateMap[r],(function(e){return t.state==e}))&&t}));a=be.concat(a,n)})),t=a}return t},fields:function(){var e=this;return[{key:"key",label:"#",sortable:!0,class:"text-center",filter:!1,export:!0},{key:"state",label:"Display",sortable:!1,class:"text-center",filter:!0,export:!0},{key:"create_dt",label:"Timestamp",sortable:!0,class:"text-center",formatter:function(t,a,r){return e.filter.dateTime,N.a.tz(t,e.filter.dateTime).utc().format("YYYY-DD-MM H:mm:ss")},filter:!0,export:!0},{key:"sender_id",label:"Local Location",sortable:!0,class:"text-center",filter:!0,export:!0},{key:"receiver_id",label:"Remote Location",sortable:!0,class:"text-center",filter:!0,export:!0},{key:"msg_id",label:"Message ID",sortable:!0,class:"text-center",filter:!1,export:!0},{key:"file_name",label:"Payload",sortable:!0,class:"text-center",filter:!1,export:!0},{key:"encryption_algorithm",label:"Encryption",sortable:!0,class:"text-center",filter:!1,export:!0},{key:"signature_algorithm",label:"Signature",sortable:!0,class:"text-center",filter:!1,export:!0},{key:"mdn_mode",label:"MDN",sortable:!0,class:"text-center",filter:!1,export:!0}]}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("cert");case 2:return t=e.sent,this.schema.fields[3].list=be.map(t,(function(e){return{value:e,text:e}})),e.next=6,this.getList();case 6:return e.next=8,this.getListPartners();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{exportExcel:function(){var e="table-"+N()().format("YYYYMMDDH:mm:ss")+".xlsx",t=be.map(this.getFilterItems,(function(e){var t={};return be.forIn(e,(function(a,r){"string"===typeof e[r]&&(t[r]=a)})),t})),a=ge.utils.json_to_sheet(t),r=ge.utils.book_new();ge.utils.book_append_sheet(r,a,"output"),ge.writeFile(r,e)},exportPdf:function(){var e=new fe["jsPDF"]({orientation:"landscape"}),t=be.map(be.filter(this.fields,(function(e){return e.export})),(function(e){return{header:e.label,dataKey:e.key}}));console.log("head",t);var a=be.map(this.getFilterItems,(function(e){return{key:e.key,state:e.state,create_dt:e.create_dt,sender_id:e.sender_id,receiver_id:e.receiver_id,msg_id:e.msg_id,file_name:e.file_name,encryption_algorithm:e.encryption_algorithm,signature_algorithm:e.signature_algorithm,mdn_mode:e.mdn_mode}}));console.log("body",a),he()(e,{columnStyles:{5:{halign:"center",cellWidth:50},6:{halign:"center",cellWidth:40}},columns:t,body:a}),e.save("table-"+N()().format("YYYYMMDDH:mm:ss")+".pdf")},filterItems:function(e){},resetModal:function(){this.infoModal.title="",this.item={_id:null,name:"",as2_id:"",email:"",x509_alias:""},this.$root.$emit("bv::hide::modal",this.infoModal.id)},deleteObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{me.a.fire({title:"Are you sure to delete?",html:"a partner  ".concat(t.name),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.isConfirmed&&ue.Crud.deleteObject("partner",t.key).then((function(e){me.a.fire("Deleted!","","success"),a.getList()})).catch((function(e){console.log("delete parner",e),me.a.fire("Error!",e,"error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(r){console.log(r),me.a.fire("Error!",r,"error")}case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),newObject:function(){this.infoModal.title="New partner",this.item={_id:null,name:"",as2_id:"",email:"",x509_alias:""},this.$root.$emit("bv::show::modal",this.infoModal.id)},editObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.infoModal.title="Message Edit",a=this.getNewObject(),e.next=4,ue.Crud.getObject("partner",t.key,a);case 4:r=e.sent,this.item=Object.assign(this.item,r),this.$root.$emit("bv::show::modal",this.infoModal.id);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push({name:"MessageDetail",params:{id:t.key}});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getNewObject:function(){var e={_id:null};return this.schema.fields.forEach((function(t){return e[t.name]=t.value})),e},getList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("messages").then((function(e){return console.log("results",e),be.map(e,(function(e,t){return{key:t,id:e.ID,state:e.STATE,create_dt:e.CREATE_DT,sender_id:e.SENDER_ID,receiver_id:e.RECEIVER_ID,msg_id:e.MSG_ID,file_name:e.FILE_NAME,encryption_algorithm:e.ENCRYPTION_ALGORITHM?e.ENCRYPTION_ALGORITHM:"Unknown",signature_algorithm:e.SIGNATURE_ALGORITHM?e.SIGNATURE_ALGORITHM:"Unknown",mdn_mode:e.MDN_MODE}}))}));case 2:this.items=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getListPartners:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=be,e.next=3,ue.Crud.getList("partner");case 3:e.t1=e.sent,e.t2=function(e){return{value:e,text:e}},t=e.t0.map.call(e.t0,e.t1,e.t2),a=be.concat(this.filterField.locations[0].list,t),this.filterField.locations[0].list=a,this.filterField.locations[1].list=a;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.Crud.saveObject("partner",t);case 3:return this.resetModal(),e.next=6,this.getList();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),me.a.fire("Error!",e.t0,"error");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}},_e=ve,we=Object(y["a"])(_e,z,q,!1,null,null,null),ye=we.exports,xe=function(){var e=this,t=e._self._c;return t("div",[t("Bar",{attrs:{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,"dataset-id-key":e.datasetIdKey,plugins:e.plugins,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height}})],1)},je=[];I["e"].register(I["p"],I["q"],I["g"],I["b"],I["d"],I["j"]);var ke={name:"BarChart",components:{Bar:P["a"]},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Array,default:function(){return[]}},color:{type:String,default:"#f87979"},labels:{type:Array},data:{type:Array},title:{type:String,default:"title "},datasets:{type:Array}},data:function(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1}}},computed:{chartData:function(){return{labels:this.labels,datasets:this.datasets}}}},Ce=ke,Oe=Object(y["a"])(Ce,xe,je,!1,null,null,null),Ae=Oe.exports,Me=a("bbf5"),Se=a.n(Me),De=(a("53b4"),a("2ef0")),Ee=(a("25ca"),{name:"dashboard",components:{ChartLine:$,MessagesAdmin:ye,ChartBar:Ae,DateRangePicker:Se.a},data:function(){return{breadcrumbs:[{text:"Dashboard",to:{name:"Dashboard"},active:!0}],length:10,messages:{sent:[],receive:[],fail:[]},dataChartAll:{valuesX:[],valuesY:[]},dataChart:{sent:{valuesX:[],valuesY:[{label:"Sent messages",backgroundColor:"#28a745",borderColor:"#28a745",data:[]}]},receive:{valuesX:[],valuesY:[{label:"Received messages",backgroundColor:"#007bff",borderColor:"#007bff",data:[]}]},fail:{valuesX:[],valuesY:[{label:"Failed messages",backgroundColor:"#FF0000",borderColor:"#FF0000",data:[]}]}},partners:[],certificates:[],partnerships:[],dateRange:{startDate:N()().startOf("week"),endDate:N()()},states:["sent","receive","fail"],stateMap:{sent:["msg_send_start","mdn_send_start","msg_rxd_mdn_sent_ok","msg_rxd_mdn_not_requested_ok"],receive:["msg_sent_mdn_received_mic_mismatch","msg_sent_mdn_received_ok","msg_receive_start","mdn_receive_start"],fail:["msg_send_exception","msg_receive_exception","mdn_sending_exception","mdn_receiving_exception","msg_send_fail","msg_send_fail_resend_queued","msg_receive_fail","msg_rxd_asyn_mdn_send_fail_resend_queued","mdn_asyn_receive_fail","msg_rxd_mdn_sending_fail","msg_receive_error_sending_mdn_error","msg_sent_mdn_received_error"]}}},computed:{countPartners:function(){return this.partners.length},countCertificates:function(){return this.certificates.length},countPartnerships:function(){return this.partnerships.length},allState:function(){var e=this,t=[];return this.states.forEach((function(a){t.push(e.dataChart[a].valuesY[0])})),t}},mounted:function(){this.getListPartners(),this.getListCertificates(),this.getListConnections(),this.getListMessageChart()},methods:{dateFormat:function(e,t){return e.disabled||(e.disabled=t.getTime()<new Date),e},getListPartners:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("partner");case 2:this.partners=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getListCertificates:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("cert");case 2:this.certificates=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getListConnections:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("partnership");case 2:this.partnerships=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getListMessageChart:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={startDate:N()(this.dateRange.startDate).format("YYYY-MM-DD"),endDate:N()(this.dateRange.endDate).format("YYYY-MM-DD")},e.next=3,ue.Crud.getListChart("messages",t);case 3:a=e.sent,a.forEach((function(e){i.states.forEach((function(t){i.stateMap[t].includes(e.STATE)&&i.messages[t].push({date:N()(e.CREATE_DT).format("YYYY-MM-DD"),name:e.MSG_ID})}))})),r=N()(t.startDate),n=N()(t.endDate),s=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=r.format("YYYY-MM-DD"),i.states.forEach((function(e){i.dataChart[e].valuesX.push(t);var a=De.filter(i.messages[e],(function(e){return N()(e.date).format("YYYY-MM-DD")==t})),r=a.length>0?a.length:0;i.dataChart[e].valuesY[0].data.push(r)})),r.add(1,"days");case 3:case"end":return e.stop()}}),e)}));case 8:if(!r.isBefore(n)){e.next=12;break}return e.delegateYield(s(),"t0",10);case 10:e.next=8;break;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeDate:function(){this.getListMessageChart()}}}),Re=Ee,Pe=(a("eeb8"),Object(y["a"])(Re,S,D,!1,null,"657887e4",null)),Te=Pe.exports,Ne=function(){var e=this,t=this,a=t._self._c;return a("div",{attrs:{id:"certificates"}},[a("b-breadcrumb",{attrs:{items:t.breadcrumbs}}),a("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[a("h1",{staticClass:"h2"},[t._v("Certificates")]),a("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[a("div",{staticClass:"btn-group mr-2"},[t.isPathPartnerList?a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.newObject()}}},[t._v("New")]):t._e()],1)])]),t.$route.params.id?[t.$route.params.id?a("certificate-editor",{attrs:{title:"Certificate Editor",schema:t.schema,model:t.getObject(t.$route.params.id)},on:{commit:t.saveObject,delete:function(t){return e.deleteObject(t)},revert:t.resetModal}}):t._e()]:[a("table-custom",{attrs:{loading:t.loadingTable,items:t.items,fields:t.fields},on:{deleteObject:t.deleteObject,editObject:t.editObject}}),a("b-modal",{attrs:{"hide-footer":"",id:t.infoModal.id,title:t.infoModal.title,"ok-only":"","no-close-on-esc":"","no-close-on-backdrop":""},on:{hidden:t.resetModal}},[t.infoModal.title?a("form-custom",{attrs:{loading:t.loadingForm,title:"Partner Editor",schema:t.schema,model:t.item},on:{commit:t.saveObject,revert:t.resetModal,fileUpload:t.fileUpload}}):t._e()],1)]],2)},Ie=[],Le=(a("a481"),function(){var e=this,t=e._self._c;return t("div",[t("b-row",[[e.showFilter?t("b-col",{staticClass:"my-3",attrs:{sm:"12",lg:"12",md:"12"}},[t("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"1","label-align-sm":"right","label-size":"sm"}},[t("b-input-group",{attrs:{size:"sm"}},[t("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter.text,callback:function(t){e.$set(e.filter,"text",t)},expression:"filter.text"}}),t("b-input-group-append",[t("b-button",{attrs:{disabled:!e.filter.text},on:{click:function(t){e.filter.text=""}}},[e._v("Clear")])],1)],1)],1)],1):e._e(),t("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"4"}},[t("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"5","label-cols-lg":"4","label-align-sm":"right","label-size":"sm"}},[t("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),t("b-col",{staticClass:"my-1",attrs:{sm:"12",md:"8"}},[t("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)]],2),t("b-table",{attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter.text,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(actions)",fn:function(a){return[a.item.actions.edit&&a.item.actions.edit.show?t("b-button",{staticClass:"mr-1",attrs:{disabled:e.loading,variant:"primary",size:"sm"},on:{click:function(t){return e.editItem(a.item)}}},[e._v("\n        "+e._s(a.item.actions.edit?a.item.actions.edit.name:"Edit")+"\n      ")]):e._e(),a.item.actions.delete&&a.item.actions.delete.show?t("b-button",{attrs:{disabled:e.loading,variant:"danger",size:"sm"},on:{click:function(t){return e.deleteItem(a.item)}}},[e._v("\n        "+e._s(a.item.actions.delete?a.item.actions.delete.name:"Delete")+"\n      ")]):e._e(),a.item.actions.show&&a.item.actions.show.show?t("b-button",{staticClass:"mr-1",attrs:{disabled:e.loading,variant:"secondary",size:"sm"},on:{click:function(t){return e.showItem(a.item)}}},[e._v("\n        "+e._s(a.item.actions.show?a.item.actions.show.name:"Show")+"\n      ")]):e._e()]}}])}),t("b-row")],1)}),Be=[],Fe={data:function(){return{totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filterOn:[]}},props:{items:{type:Array,required:!0},fields:{type:Array,required:!0},showFilter:{type:Boolean,default:!0},filter:{type:Object,default:function(e){return{text:""}}},loading:{type:Boolean,default:!1}},mounted:function(){this.totalRows=this.items.length},methods:{editItem:function(e){this.$emit("editObject",e)},showItem:function(e){this.$emit("showObject",e)},deleteItem:function(e){this.$emit("deleteObject",e)},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}}},$e=Fe,ze=Object(y["a"])($e,Le,Be,!1,null,null,null),qe=ze.exports,Ye=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"editor"}},[t("form",{on:{submit:e.submitForm}},[t("h1",{domProps:{innerHTML:e._s(e.title)}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.data,expression:"data.data"}],attrs:{type:"hidden",name:"data"},domProps:{value:e.data.data},on:{input:function(t){t.target.composing||e.$set(e.data,"data",t.target.value)}}}),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"alias"}},[e._v("Certificate Alias Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.alias,expression:"data.alias"}],staticClass:"form-control",attrs:{type:"text",name:"alias"},domProps:{value:e.data.alias},on:{input:function(t){t.target.composing||e.$set(e.data,"alias",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"serial"}},[e._v("Serial Number (HEX)")]),t("div",{staticClass:"form-control",attrs:{name:"serial"},domProps:{innerHTML:e._s(e.serial)}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"validNotBefore"}},[e._v("Valid Not Before")]),t("div",{staticClass:"form-control",attrs:{name:"validNotBefore"},domProps:{innerHTML:e._s(e.validNotBefore)}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"validNotAfter"}},[e._v("Expiration Date")]),t("div",{staticClass:"form-control",attrs:{name:"validNotAfter"},domProps:{innerHTML:e._s(e.validNotAfter)}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"subject"}},[e._v("Subject")]),t("div",{staticClass:"form-control",attrs:{name:"subject"},domProps:{innerHTML:e._s(e.subject)}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"fingerPrint"}},[e._v("Fingerprint (SHA1)")]),t("div",{staticClass:"form-control",attrs:{name:"fingerPrint"},domProps:{innerHTML:e._s(e.fingerPrint)}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"upload"}},[e._v("Upload Certificate")]),t("input",{attrs:{type:"file",id:"upload",name:"upload"},on:{change:e.fileUpload}})]),t("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Actions"}},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Ok")]),t("a",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:e.cancelForm}},[e._v("Cancel")]),"new"!==e.data._id?t("a",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.deleteForm}},[e._v("Delete")]):e._e()])])])},Ue=[],He={data:function(){return{serial:0,validNotBefore:null,validNotAfter:null,fingerPrint:"",subject:"",issuerName:"",data:{alias:null,data:null}}},props:{model:{type:Promise,required:!0},schema:{type:Object,required:!0},title:{type:String,required:!1}},watch:{data:function(e){console.log("DATA CHANGED!",e),this.changedCert()}},mounted:function(){var e=this;console.log(this.model),this.model.then((function(t){return e.data=t}))},methods:{submitForm:function(e){console.log("submitForm",e),e.preventDefault(),this.$emit("commit",this.data)},deleteForm:function(e){console.log("submitForm",e),e.preventDefault(),this.$emit("delete",this.data._id)},cancelForm:function(e){this.$emit("revert",this.data._id)},fileUpload:function(e){var t=document.getElementById("upload").files[0];console.log(t,e);var a=/^(application\/x-x509-ca-cert|application\/x-pkcs12)$/i;if(a.test(t.type))if(0!=t.size){var r=new FileReader,n=this;r.onload=function(e){console.log(e.target.result);var t=e.target.result;t=t.replace("-----BEGIN CERTIFICATE-----","").replace("-----END CERTIFICATE-----",""),t=t.replace(/[^A-Za-z0-9+/=]+/gm,""),n.data.data=t,n.changedCert()},r.readAsText(t)}else alert("Error unable to read file, empty?");else alert("Error invalid file-type")},changedCert:function(){var e=new X509,t=this.data.data;if(null==this.data.data)return this.serial="",this.issuerName="",this.validNotBefore=null,this.validNotAfter=null,this.subject="",void(this.fingerPrint="");"----"!==t.substr(0,4)&&(t="-----BEGIN CERTIFICATE-----\n"+t+"\n-----END CERTIFICATE-----"),e.readCertPEM(t),this.serial=e.getSerialNumberHex(),this.issuerName=e.getIssuerString(),this.validNotBefore=zulutodate(e.getNotBefore()),this.validNotAfter=zulutodate(e.getNotAfter()),this.subject=e.getSubjectString(),this.fingerPrint=KJUR.crypto.Util.hashHex(e.hex,"sha1"),console.log(e)}}},Ke=He,Xe=Object(y["a"])(Ke,Ye,Ue,!1,null,"aeee8fb6",null),Ge=Xe.exports,We=a("2ef0"),Ve={data:function(){return{breadcrumbs:[{text:"Dashboard",to:{name:"Dashboard"},active:!1},{text:"Certificates",to:{name:"Certificates"},active:!0}],schema:{fields:[{type:"text",name:"alias",label:"Alias Name",placeholder:"Certificate's Alias Name",_validate:{required:!0}},{type:"text",name:"serial",label:"Serial Number (HEX)",placeholder:"Trading Partner's Email Address",show:!0,disabled:!0,_validate:{email:!0}},{type:"datepicker",name:"validNotBefore",label:"Valid Not Before",placeholder:"Valid Not Before",show:!0,disabled:!0,_validate:{}},{type:"datepicker",name:"validNotAfter",label:"Expiration Date",placeholder:"Expiration Date",show:!0,disabled:!0,_validate:{}},{type:"text",name:"subject",label:"Subject",placeholder:"Subject",disabled:!0,show:!0,_validate:{}},{type:"text",name:"fingerPrint",label:"Fingerprint (SHA1)",placeholder:"Fingerprint (SHA1)",show:!0,disabled:!0,_validate:{}},{type:"file",accept:".pem",name:"upload",label:"Upload Certificate",placeholder:"Upload Certificate",_validate:{required:!0,ext:"pem"}}]},fields:[{key:"key",label:"#",sortable:!0,class:"text-center"},{key:"name",label:"Certificate ID",sortable:!0,class:"text-center"},{key:"actions",label:"Actions",class:"text-center"}],infoModal:{id:"info-modal",title:""},items:[],item:{_id:null,alias:"",data:"",serial:"",issuerNam:"",validNotBefore:"",validNotAfter:"",subject:"",fingerPrint:""},loadingForm:!1,loadingTable:!1}},components:{FormCustom:G,TableCustom:qe,CertificateEditor:Ge},computed:{isPathPartnerList:function(){return"Certificates"==this.$route.name}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("cert");case 2:return t=e.sent,this.schema.fields[3].list=We.map(t,(function(e){return{value:e,text:e}})),e.next=6,this.getList();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getNewObject(),e.next=3,ue.Crud.getObject("cert",t,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetModal:function(){this.infoModal.title="",this.item={_id:null,alias:"",data:"",serial:"",issuerNam:"",validNotBefore:"",validNotAfter:"",subject:"",fingerPrint:""},this.$root.$emit("bv::hide::modal",this.infoModal.id),this.loadingForm=this.loadingTable=!1},existCertificate:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!1,e.next=3,ue.Crud.getObjectFilter("partner",t.key,t).then((function(e){a=!0})).catch((function(){a=!1}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deleteObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{this.loadingTable=!0,me.a.fire({title:"Are you sure to delete?",html:"a cert  ".concat(t.name),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r.isConfirmed){e.next=5;break}return e.next=3,a.existCertificate(t);case 3:n=e.sent,n?me.a.fire("Warning!","The certificate is registered with a partner","warning"):ue.Crud.deleteObject("cert",t.key).then((function(e){me.a.fire("Deleted!","","success"),a.getList()})).catch((function(e){console.log("delete parner",e),me.a.fire("Error!",e,"error")}));case 5:a.loadingTable=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(r){console.log(r),me.a.fire("Error!",r,"error")}case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),newObject:function(){this.infoModal.title="New certificate",this.item={_id:null,alias:"",data:"",serial:"",issuerNam:"",validNotBefore:"",validNotAfter:"",subject:"",fingerPrint:""},this.schema.fields[this.schema.fields.length-1]._validate=!0,this.$root.$emit("bv::show::modal",this.infoModal.id)},editObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("item_edit",t),this.infoModal.title="Edit certificate",a=this.getNewObject(),e.next=5,ue.Crud.getObject("cert",t.key,a);case 5:r=e.sent,console.log("resutl al editar",r),this.item=Object.assign(this.item,r),this.changedCert(),this.schema.fields[this.schema.fields.length-1]._validate=!1,this.$root.$emit("bv::show::modal",this.infoModal.id);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getNewObject:function(){this.loadingTable=!0;var e={_id:null};return this.schema.fields.forEach((function(t){return e[t.name]=t.value})),e},getList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("cert").then((function(e){return We.map(e,(function(e,t){return{key:t,name:e,actions:{edit:{name:"Edit",show:!0},delete:{name:"Delete",show:!0}}}}))}));case 2:this.items=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loadingForm=this.loadingTable=!0,e.prev=1,a={_id:null,alias:t.alias,data:t.data},console.log("Saving",t),r=t._id,console.log("old_id",r),null===r){e.next=11;break}return e.next=9,ue.Crud.deleteObject("cert",r).then(Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.importCertificate(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 9:e.next=13;break;case 11:return e.next=13,ue.Crud.importCertificate(a);case 13:return this.resetModal(),e.next=16,this.getList();case 16:this.loadingForm=this.loadingTable=!1,e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](1),me.a.fire("Error!",e.t0,"error"),this.loadingForm=!1;case 23:case"end":return e.stop()}}),e,this,[[1,19]])})));function t(t){return e.apply(this,arguments)}return t}(),fileUpload:function(e){var t=e.file;e.e;console.log("item.....",this.item);var a=t;console.log(t);var r=/\.(pem)$/i,n=a.name;if(r.test(n))if(0!=a.size){var s=new FileReader,i=this;s.onload=function(e){console.log("edit----\x3e",e.target.result);var t=e.target.result;try{t=t.replace("-----BEGIN CERTIFICATE-----","").replace("-----END CERTIFICATE-----",""),t=t.replace(/[^A-Za-z0-9+/=]+/gm,""),i.item.data=t,i.changedCert(),console.log("Read certificate successfully")}catch(a){return console.log("Error reading certificate",a),void alert("Error reading certificate")}},s.readAsText(a)}else alert("Error unable to read file, empty?");else alert("Error invalid file-type")},changedCert:function(){var e=new X509;console.log("this.item.data",this.item.data);var t=this.item.data;if(console.log("item.....",this.item),null==this.item.data)return this.item.serial="",this.item.issuerName="",this.item.validNotBefore=null,this.item.validNotAfter=null,this.item.subject="",void(this.item.fingerPrint="");"----"!==t.substr(0,4)&&(t="-----BEGIN CERTIFICATE-----\n"+t+"\n-----END CERTIFICATE-----"),console.log("PEM changedCert",t),e.readCertPEM(t),this.item.serial=e.getSerialNumberHex(),this.item.issuerName=e.getIssuerString(),this.item.validNotBefore=zulutodate(e.getNotBefore()),this.item.validNotAfter=zulutodate(e.getNotAfter()),this.item.subject=e.getSubjectString(),this.item.fingerPrint=KJUR.crypto.Util.hashHex(e.hex,"sha1"),console.log("item changedCert",this.item),console.log("cert changedCert",e)}}},Qe=Ve,Je=Object(y["a"])(Qe,Ne,Ie,!1,null,null,null),Ze=Je.exports,et=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"partners"}},[t("b-breadcrumb",{attrs:{items:e.breadcrumbs}}),t("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[t("h1",{staticClass:"h2"},[e._v("Partners")]),t("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[t("div",{staticClass:"btn-group mr-2"},[e.isPathPartnerList?t("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){return e.newObject()}}},[e._v("New")]):e._e()],1)])]),t("table-custom",{attrs:{loading:e.loadingTable,items:e.items,fields:e.fields},on:{deleteObject:e.deleteObject,editObject:e.editObject}}),t("b-modal",{attrs:{"hide-footer":"",id:e.infoModal.id,title:e.infoModal.title,"ok-only":"","no-close-on-esc":"","no-close-on-backdrop":""},on:{hidden:e.resetModal}},[e.infoModal.title?t("form-custom",{attrs:{title:"Partner Editor",schema:e.schema,model:e.item,loading:e.loadingForm},on:{commit:e.saveObject,revert:e.resetModal}}):e._e()],1)],1)},tt=[],at=a("2ef0"),rt={data:function(){return{breadcrumbs:[{text:"Dashboard",to:{name:"Dashboard"},active:!1},{text:"Partners",to:{name:"Partners"},active:!0}],schema:{fields:[{type:"text",name:"name",label:"Partner ID",placeholder:"Trading Partner's Unique Key Name",_validate:{required:!0}},{type:"text",name:"as2_id",label:"AS2 ID",placeholder:"Trading Partner's AS2 ID",_validate:{required:!0}},{type:"email",name:"email",label:"Email",placeholder:"Trading Partner's Email Address",_validate:{required:!0,email:!0}},{type:"select",name:"x509_alias",label:"Certificate Alias",_validate:{required:!0},list:[]}]},fields:[{key:"key",label:"#",sortable:!0,class:"text-center"},{key:"name",label:"Partner ID",sortable:!0,class:"text-center"},{key:"actions",label:"Actions",class:"text-center"}],infoModal:{id:"info-modal",title:""},items:[],item:{_id:null,name:"",as2_id:"",email:"",x509_alias:""},loadingTable:!1,loadingForm:!1}},components:{FormCustom:G,TableCustom:qe},computed:{isPathPartnerList:function(){return"Partners"==this.$route.name}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("cert");case 2:return t=e.sent,this.schema.fields[3].list=at.map(t,(function(e){return{value:e,text:e}})),e.next=6,this.getList();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{resetModal:function(){this.infoModal.title="",this.item={_id:null,name:"",as2_id:"",email:"",x509_alias:""},this.$root.$emit("bv::hide::modal",this.infoModal.id),this.loadingTable=!1,this.loadingForm=!1},deleteObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{this.loadingTable=!0,me.a.fire({title:"Are you sure to delete?",html:"a partner  ".concat(t.name),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.isConfirmed?ue.Crud.deleteObject("partner",t.key).then((function(e){me.a.fire("Deleted!","","success"),a.loadingTable=!1,a.getList()})).catch((function(e){console.log("delete parner",e),me.a.fire("Error!",e,"error"),a.loadingTable=!1})):a.loadingTable=!1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(r){console.log(r),me.a.fire("Error!",r,"error"),this.loadingTable=!1}case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),newObject:function(){this.loadingTable=!0,this.infoModal.title="New partner",this.item={_id:null,name:"",as2_id:"",email:"",x509_alias:""},this.$root.$emit("bv::show::modal",this.infoModal.id)},editObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingTable=!0,this.infoModal.title="Edit partner",a=this.getNewObject(),e.next=5,ue.Crud.getObject("partner",t.key,a);case 5:r=e.sent,console.log("resutl",r),this.item=Object.assign(this.item,r),this.$root.$emit("bv::show::modal",this.infoModal.id);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getNewObject:function(){var e={_id:null};return this.schema.fields.forEach((function(t){return e[t.name]=t.value})),e},getList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("partner").then((function(e){return at.map(e,(function(e,t){return{key:t,name:e,actions:{edit:{name:"Edit",show:!0},delete:{name:"Delete",show:!0}}}}))}));case 2:this.items=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingForm=!0,e.prev=1,e.next=4,ue.Crud.saveObject("partner",t).then((function(){a.loadingForm=!1,a.loadingTable=!1}));case 4:return this.resetModal(),e.next=7,this.getList();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),me.a.fire("Error!",e.t0,"error"),this.loadingForm=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()}},nt=rt,st=Object(y["a"])(nt,et,tt,!1,null,null,null),it=st.exports,ot=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"connections"}},[t("b-breadcrumb",{attrs:{items:e.breadcrumbs}}),t("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[t("h1",{staticClass:"h2"},[e._v("Connections")]),t("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[t("div",{staticClass:"btn-group mr-2"},[e.isPathPartnerList?t("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){return e.newObject()}}},[e._v("New")]):e._e()],1)])]),t("table-custom",{attrs:{loading:e.loadingTable,items:e.items,fields:e.fields},on:{deleteObject:e.deleteObject,editObject:e.editObject}}),t("b-modal",{attrs:{"hide-footer":"",id:e.infoModal.id,title:e.infoModal.title,"ok-only":"","no-close-on-esc":"","no-close-on-backdrop":""},on:{hidden:e.resetModal}},[e.infoModal.title?t("form-custom",{attrs:{loading:e.loadingForm,title:"Partner Editor",schema:e.schema,model:e.item},on:{commit:e.saveObject,revert:e.resetModal}}):e._e()],1)],1)},lt=[],ct=a("2ef0"),ut={data:function(){return{breadcrumbs:[{text:"Dashboard",to:{name:"Dashboard"},active:!1},{text:"Connections",to:{name:"Connections"},active:!0}],schema:{fields:[{type:"text",name:"name",label:"Partnership ID",placeholder:"Connection's Unique Key Name",value:"",_validate:{required:!0,regex:"[^&<>\"']"}},{type:"select",name:"receiverIDs",label:"Receiving Partner",placeholder:"Connection's Receiver",list:[],value:"",_validate:{required:!0}},{type:"select",name:"senderIDs",label:"Sending Partner",placeholder:"Connection's Sender",list:[],value:"",_validate:{required:!0}},{type:"url",name:"as2_url",label:"AS2 URL",placeholder:"i.e.  http://www.MyPartnerAS2Machine.com:10080",value:"",_validate:{required:!0,url:!0,regex:"[^&<>\"']"}},{type:"text",name:"subject",label:"AS2 SMIME Subject",placeholder:"i.e.  AS2 Transfer",value:"",_validate:{required:!0,regex:"[^&<>\"']"}},{type:"email",name:"as2_mdn_to",label:"MDN response To",placeholder:"i.e.  datamanager@mypartner.com",value:"",_validate:{required:!0,email:!0}},{type:"select",name:"encrypt",label:"Encryption Mode",list:["","3DES","CAST5","RC2_CBC","AES128","AES192","AES256"],value:"3DES",_validate:{required:!0}},{type:"select",name:"sign",label:"Signature Mode",list:["","SHA1","SHA256","SHA384","SHA512","RC4","MD5"],value:"SHA1",_validate:{required:!0}},{type:"url",name:"as2_receipt_option",label:"Asynchronous MDN server's URL",placeholder:"i.e.  http://www.MyAS2Machine.com:10081",value:"",_validate:{required:!0,url:!0,regex:"[^&<>\"']"}},{type:"text",name:"as2_mdn_options",label:"MDN option values for E-mail header",placeholder:"i.e.  signed-receipt-protocol=optional, pkcs7-signature; signed-receipt-micalg=optional, sha1",value:"signed-receipt-protocol=optional, pkcs7-signature; signed-receipt-micalg=optional, sha1",_validate:{required:!0}},{type:"checkbox",name:"prevent_canonicalization_for_mic",label:"Prevent Canonicalization for MIC",value:!1,_validate:{required:!0}},{type:"checkbox",name:"remove_cms_algorithm_protection_attrib",label:"Remove CMS Protection",value:!1,_validate:{required:!0}},{type:"checkbox",name:"rename_digest_to_old_name",label:"Support Digest with Oldname",value:!1,_validate:{required:!0}},{type:"select",name:"content_transfer_encoding",label:"Transfer Encoding",list:["8bit","binary"],value:"8bit",_validate:{required:!0}}]},fields:[{key:"key",label:"#",sortable:!0,class:"text-center"},{key:"name",label:"Connection ID",sortable:!0,class:"text-center"},{key:"actions",label:"Actions",class:"text-center"}],infoModal:{id:"info-modal",title:""},items:[],item:{_id:null,name:"",receiverIDs:"",senderIDs:"",as2_url:"",subject:"",as2_mdn_to:"",encrypt:"3DES",sign:"SHA1",as2_receipt_option:"",as2_mdn_options:"signed-receipt-protocol=optional, pkcs7-signature; signed-receipt-micalg=optional, sha1",prevent_canonicalization_for_mic:!1,remove_cms_algorithm_protection_attrib:!1,rename_digest_to_old_name:!1,content_transfer_encoding:"8bit",compression_type:"",resend_max_retries:"",protocol:""},loadingTable:!1,loadingForm:!1}},components:{FormCustom:G,TableCustom:qe},computed:{isPathPartnerList:function(){return"Connections"==this.$route.name}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("partner");case 2:return t=e.sent,this.schema.fields[1].list=ct.map(t,(function(e){return{value:e,text:e}})),this.schema.fields[2].list=ct.map(t,(function(e){return{value:e,text:e}})),e.next=7,this.getList();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{clearItem:function(){this.item={_id:null,name:"",receiverIDs:"",senderIDs:"",as2_url:"",subject:"",as2_mdn_to:"",encrypt:"3DES",sign:"SHA1",as2_receipt_option:"",as2_mdn_options:"signed-receipt-protocol=optional, pkcs7-signature; signed-receipt-micalg=optional, sha1",prevent_canonicalization_for_mic:!1,remove_cms_algorithm_protection_attrib:!1,rename_digest_to_old_name:!1,content_transfer_encoding:"8bit",compression_type:"",resend_max_retries:"",protocol:""}},resetModal:function(){this.infoModal.title="",this.clearItem(),this.$root.$emit("bv::hide::modal",this.infoModal.id),this.loadingForm=this.loadingTable=!1},deleteObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.loadingTable=!0;try{me.a.fire({title:"Are you sure to delete?",html:"a partnership  ".concat(t.name),showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.isConfirmed?(ue.Crud.deleteObject("partnership",t.key).then((function(e){me.a.fire("Deleted!","","success"),a.getList()})).catch((function(e){console.log("delete parner",e),me.a.fire("Error!",e,"error")})),a.loadingTable=!1):a.loadingTable=!1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(r){console.log(r),me.a.fire("Error!",r,"error"),this.loadingTable=!1}case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),newObject:function(){this.loadingTable=!0,this.infoModal.title="New connection",this.clearItem(),this.$root.$emit("bv::show::modal",this.infoModal.id)},editObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingTable=!0,this.infoModal.title="Edit connection",e.next=4,this.getObject(t.key);case 4:a=e.sent,console.log("result santos",a),this.item=Object.assign(this.item,a),this.$root.$emit("bv::show::modal",this.infoModal.id);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getNewObject:function(){var e={_id:null};return this.schema.fields.forEach((function(t){return e[t.name]=t.value})),e},getObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.getNewObject(),e.next=3,ue.Crud.getObject("partnership",t,a);case 3:for(n in r=e.sent,a._id=r._id,a.name=r.name,null!=r.senderIDs&&(a.senderIDs=r.senderIDs.name),null!=r.receiverIDs&&(a.receiverIDs=r.receiverIDs.name),r.attributes)a[n]=r.attributes[n];return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("partnership").then((function(e){return ct.map(e,(function(e,t){return{key:t,name:e,actions:{edit:{name:"Edit",show:!0},delete:{name:"Delete",show:!0}}}}))}));case 2:this.items=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingForm=!0,e.prev=1,t._prefix="0=".concat(t.senderIDs,"&1=").concat(t.receiverIDs),console.log("save data222",t),e.next=6,ue.Crud.saveObject("partnership",t).then((function(){a.loadingTable=a.loadingForm=!0}));case 6:return this.resetModal(),e.next=9,this.getList();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),me.a.fire("Error!",e.t0,"error"),this.loadingForm=!0;case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}()}},dt=ut,mt=Object(y["a"])(dt,ot,lt,!1,null,null,null),ft=mt.exports,pt=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"message-detail"}},[t("b-breadcrumb",{attrs:{items:e.breadcrumbs}}),t("b-card",[t("b-badge",{attrs:{variant:"danger"}},[e._v("E")]),e._v(" PAEBSA-A2 -> PAEBSA_OLD\n      "),t("span",{staticClass:"text-danger"},[e._v("[process error:unknown-trading-parnetr] ")]),t("p",[e._v("Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsam,")])],1),t("table-custom",{attrs:{items:e.items2,fields:e.fields,showFilter:!1},on:{deleteObject:e.deleteObject,editObject:e.editObject}}),t("b-card",[t("b-tabs",{attrs:{"content-class":"mt-3"}},[t("b-tab",{attrs:{title:"Log",active:""}},[t("small",{staticClass:"text-success"},[e._v("[5/5/22, 3:34:04 AM] [mendAS2-CO3SSQ-1651692834643-0@PAEBSA-AS2_PAEBSA_OLD] Inbound transmission is a AS2 message. It has not been processed because of a trading partner identification problem. ")]),t("br"),t("small",{staticClass:"text-success"},[e._v('[5/5/22, 3:34:04 AM] [mendAS2-CO3SSQ-1651692834643-0@PAEBSA-AS2_PAEBSA_OLD] Generating outbound MDN, setting message id to "mendAS2-1RRNH2W1651692844972-5@PAEBSA_OLD_PAEBSA-AS2". ')]),t("br"),t("small",{staticClass:"text-danger"},[e._v('[5/5/22, 3:34:04 AM] [mendAS2-1RRNH2W-1651692844972-5@PAEBSA_OLD_PAEBSA-AS2] Outbound MDN created for AS2 message "mendAS2-CO3SSQ1651692834643-0@PAEBSA-AS2_PAEBSA_OLD", state set to [processed/error: unknown-trading-partner]. ')]),t("br"),t("small",{staticClass:"text-success"},[e._v("[5/5/22, 3:34:04 AM] [mendAS2-CO3SSQ-1651692834643-0@PAEBSA-AS2_PAEBSA_OLD] Outbound MDN details: Sender AS2 id PAEBSA-AS2 is unknown. ")]),t("br"),t("small",{staticClass:"text-warning"},[e._v("[5/5/22, 3:34:04 AM] [mendAS2-1RRNH2W-1651692844972-5@PAEBSA_OLD_PAEBSA-AS2] Synchronous MDN sent as answer to message mendAS2-CO3SSQ1651692834643-0 @PAEBSA-AS2_PAEBSA_OLD.")])]),t("b-tab",{attrs:{title:"Raw message decrypted"}},[t("pre",[e._v('Content-Type: multipart/report; report-type=disposition-notification; boundary="---=_Part_22_1351266340.1651692844973"\nDate: Wed, 4 May 2022 21:34:04 +0200 (CEST)\n------=_Part_22_1351266340.1651692844973 \nContent-Type: text/plain Content-Transfer-Encoding: 7bit\nSender AS2 id PAEBSA-AS2 is unknown. \n------=_Part_22_1351266340.1651692844973 \nContent-Type: message/disposition notification \nContent-Transfer-Encoding: 7bit\nReporting-UA: mendelson AS2 \nOriginal-Recipient: rfc822; PAEBSA_OLD \nFinal-Recipient: rfc822; PAEBSA_OLD \nOriginal-Message-ID: `` endAS2-CO3SSQ-1651692834643-0@PAEBSA-AS2_PAEBSA_OLD \n"\n           ')])]),t("b-tab",{attrs:{title:"Message header"}},[t("small",[t("pre",[e._v('mime-version = 1.0 \ndate = Wed, 04 May 2022 21:34:04 CEST\nserver = mendelson AS2 2022 build 542 - www.fol-e-c.com \ncontent-length = 638 \nas2-version = 1.2 \nmessage-id =  mendAS2-1RRNH2W-1651692844972-5@PAEBSA_OLD_PAEBSA-AS2 \nconnection = close \nas2-to = PAEBSA-AS2\ncontent-type = multipart/report; report-type=disposition-notification; boundary="---=_Part_22_1351266340.1651692844973" \nediint-features = multiple-attachments, CEM \nas2-from = PAEBSA_OLD\n\n            ')])])])],1)],1)],1)},ht=[],bt=a("2ef0"),gt={data:function(){return{breadcrumbs:[{text:"Dashboard",to:{name:"Dashboard"},active:!1},{text:"Messages",to:{name:"Messages"},active:!1},{text:"Message Detail",to:{name:"MessagesDetail"},active:!0}],schema:{fields:[{type:"text",name:"name",label:"Message ID",placeholder:"Trading Message's Unique Key Name",_validate:{required:!0}},{type:"text",name:"as2_id",label:"AS2 ID",placeholder:"Trading Message's AS2 ID",_validate:{required:!0}},{type:"email",name:"email",label:"Email",placeholder:"Trading Message's Email Address",_validate:{required:!0,email:!0}},{type:"select",name:"x509_alias",label:"Certificate Alias",_validate:{required:!0},list:[]}]},fields:[{key:"key",label:"#",sortable:!0,class:"text-center"},{key:"date",label:"Date",sortable:!0,class:"text-center"},{key:"security",label:"Security",sortable:!0,class:"text-center"},{key:"sender",label:"Sender",sortable:!0,class:"text-center"},{key:"server",label:"Server",sortable:!0,class:"text-center"}],infoModal:{id:"info-modal",title:""},items:[],items2:[{date:"04/04/2022",security:"Unknown/Unknown",sender:"192.15.15.1",server:"Lorem AS2 2022 BULID 538- www.hola.com"},{date:"04/04/2022",security:"Unknown/Unknown",sender:"192.15.15.1",server:"Lorem AS2 2022 BULID 538- www.hola.com"},{date:"04/04/2022",security:"Unknown/Unknown",sender:"192.15.15.1",server:"Lorem AS2 2022 BULID 538- www.hola.com"}],item:{_id:null,name:"",as2_id:"",email:"",x509_alias:""}}},components:{TableCustom:qe},computed:{isPathMessageList:function(){return"Messages"==this.$route.name}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("cert");case 2:return t=e.sent,this.schema.fields[3].list=bt.map(t,(function(e){return{value:e,text:e}})),e.next=6,this.getList();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{resetModal:function(){this.infoModal.title="",this.item={_id:null,name:"",as2_id:"",email:"",x509_alias:""},this.$root.$emit("bv::hide::modal",this.infoModal.id)},deleteObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{me.a.fire({title:"Are you sure to delete?",html:"a partner  ".concat(t.name),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.isConfirmed&&ue.Crud.deleteObject("partner",t.key).then((function(e){me.a.fire("Deleted!","","success"),a.getList()})).catch((function(e){console.log("delete parner",e),me.a.fire("Error!",e,"error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(r){console.log(r),me.a.fire("Error!",r,"error")}case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),newObject:function(){this.infoModal.title="New partner",this.item={_id:null,name:"",as2_id:"",email:"",x509_alias:""},this.$root.$emit("bv::show::modal",this.infoModal.id)},editObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.infoModal.title="Message Edit",a=this.getNewObject(),e.next=4,ue.Crud.getObject("partner",t.key,a);case 4:r=e.sent,console.log("resutl",r),this.item=Object.assign(this.item,r),this.$root.$emit("bv::show::modal",this.infoModal.id);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getNewObject:function(){var e={_id:null};return this.schema.fields.forEach((function(t){return e[t.name]=t.value})),e},getList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.Crud.getList("partner").then((function(e){return bt.map(e,(function(e,t){return{key:t,name:e,actions:{detail:{name:"Detail",show:!0}}}}))}));case 2:this.items=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveObject:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,ue.Crud.saveObject("partner",t);case 4:return this.resetModal(),e.next=7,this.getList();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),me.a.fire("Error!",e.t0,"error");case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()}},vt=gt,_t=Object(y["a"])(vt,pt,ht,!1,null,null,null),wt=_t.exports;r["default"].use(M["a"]);var yt=[{path:"/",component:Te,name:"Dashboard",meta:{sidemenu:!0}},{path:"/partners",component:it,name:"Partners",meta:{sidemenu:!0}},{path:"/partner/:id",component:it,name:"PartnerEditor",meta:{sidemenu:!1}},{path:"/partnerships",component:ft,name:"Connections",meta:{sidemenu:!0}},{path:"/partnership/:id",component:ft,name:"ConnectionEditor",meta:{sidemenu:!1}},{path:"/certs",component:Ze,name:"Certificates",meta:{sidemenu:!0}},{path:"/cert/:id",component:Ze,name:"CertificateEditor",meta:{sidemenu:!1}},{path:"/messages",component:ye,name:"Messages",meta:{sidemenu:!0}},{path:"/message/:id",component:wt,name:"MessageDetail",meta:{sidemenu:!1}}],xt=new M["a"]({routes:yt}),jt=xt,kt={name:"top-menu",data:function(){return{routes:jt.options.routes.filter((function(e){return null!=e.meta&&e.meta.sidemenu}))}},methods:{logout:function(e){v.dispatch("logoutAction",{}),e.preventDefault()}},props:{openSidemenu:{require:!1}},computed:{actualRoute:function(){return this.$router.name},userName:function(){return v.state.username},abbreviationName:function(){return v.state.username.substr(0,2).toUpperCase()}}},Ct=kt,Ot=(a("c4f0"),Object(y["a"])(Ct,O,A,!1,null,null,null)),At=Ot.exports,Mt=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[t("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{href:"#"}},[t("div",{staticClass:"d-flex justify-content-between display-menu2"},[t("span",[e._v("OpenAS2")]),t("b-icon",{staticClass:"p-2",attrs:{"font-scale":"1.5",icon:"menu-button-wide"},on:{click:e.openSidemenu}})],1)]),t("ul",{staticClass:"navbar-nav px-3"},[e.showMenu?t("div",{staticClass:"display-menus"},[t("ul",{staticClass:"nav flex-column"},[e._l(e.routes,(function(a){return t("li",{key:a.path,staticClass:"nav-item",on:{click:e.closedMenuMovil}},[t("router-link",{staticClass:"nav-link",class:{active:e.actualRoute==a.name},attrs:{to:a.path}},[e._v("\n            "+e._s(a.name)+"\n          ")])],1)})),t("li",{staticClass:"nav-item text-rap pb-2",on:{click:function(t){e.showLogout=!e.showLogout}}},[t("b-avatar",{attrs:{variant:"primary",text:e.abbreviationName,size:"sm"}}),t("small",{staticClass:"mx-2 text-white"},[e._v(e._s(e.userName))]),e.showLogout?t("b-icon",{attrs:{variant:"white",icon:"caret-up-fill"}}):t("b-icon",{attrs:{variant:"white",icon:"caret-down-fill"}})],1),e.showLogout?t("li",[t("a",{staticClass:"nav-link pl-3",attrs:{href:"#"},on:{click:e.logout}},[e._v("Sign out")])]):e._e()],2)]):e._e()])])},St=[],Dt={name:"top-menu-phone",data:function(){return{routes:jt.options.routes.filter((function(e){return null!=e.meta&&e.meta.sidemenu})),showLogout:!1}},methods:{logout:function(e){v.dispatch("logoutAction",{}),e.preventDefault()}},props:{closedMenuMovil:{require:!1},openSidemenu:{require:!1},showMenu:{type:Boolean,default:!1}},computed:{actualRoute:function(){return this.$router.name},userName:function(){return v.state.username},abbreviationName:function(){return v.state.username.substr(0,2).toUpperCase()}}},Et=Dt,Rt=(a("e15d"),Object(y["a"])(Et,Mt,St,!1,null,null,null)),Pt=Rt.exports,Tt=function(){var e=this,t=e._self._c;return e.showMenu?t("b-list-group",{attrs:{flush:""}},e._l(e.routes,(function(a){return t("b-list-group-item",{key:a.path,attrs:{to:a.path,active:e.actualRoute==a.name}},[t("b-icon",{attrs:{icon:e.getIcons(a.name)}}),e._v("\n     "+e._s(a.name)+"\n      ")],1)})),1):e._e()},Nt=[],It={name:"side-menu",data:function(){return{routes:jt.options.routes.filter((function(e){return null!=e.meta&&e.meta.sidemenu}))}},props:{showMenu:{type:Boolean,default:!0}},computed:{actualRoute:function(){return this.$route.name}},methods:{getIcons:function(e){var t="house";switch(e){case"Dashboard":t="graph-up";break;case"Partners":t="person";break;case"Connections":t="people";break;case"Certificates":t="file-earmark-richtext";break;case"Messages":t="chat-right-dots";break;default:t="house";break}return t}}},Lt=It,Bt=(a("ffae"),Object(y["a"])(Lt,Tt,Nt,!1,null,null,null)),Ft=Bt.exports,$t={name:"admin-layout",data:function(){return{showMenu:!0}},components:{TopMenu:At,SideMenu:Ft,TopMenuPhone:Pt},methods:{closedMenuMovil:function(){this.showMenu=!this.showMenu},openSidemenu:function(e){e.preventDefault(),this.showMenu=!this.showMenu}}},zt=$t,qt=Object(y["a"])(zt,k,C,!1,null,"2584c45d",null),Yt=qt.exports,Ut={name:"app",components:{LoginScreen:j,AdminLayout:Yt},data:function(){return{rememberme:!1}},computed:Object(i["b"])({is_logged:function(e){return console.log("is_logged",e),null!=e.username&&null!=e.password&&null!=e.server}})},Ht=Ut,Kt=(a("cfc2"),Object(y["a"])(Ht,n,s,!1,null,null,null)),Xt=Kt.exports,Gt=a("58a2"),Wt=a("1dce"),Vt=a.n(Wt),Qt=a("7bb1"),Jt=a("6907"),Zt=a("5f5b"),ea=a("b1e0");a("f9e3"),a("2dd8");r["default"].use(Qt["a"],{inject:!0,fieldsBagName:"veeFields",errorBagName:"veeErrors"}),r["default"].config.productionTip=!1,r["default"].use(Vt.a),r["default"].use(Gt["a"]),r["default"].use(Zt["a"]),r["default"].use(ea["a"]),r["default"].use(Jt["a"],"bootstrap"),new r["default"]({el:"#app",router:jt,store:v,render:function(e){return e(Xt)}})},7453:function(e,t,a){"use strict";a("951e")},"951e":function(e,t,a){},b4c7:function(e,t,a){},c4f0:function(e,t,a){"use strict";a("e05a")},cfc2:function(e,t,a){"use strict";a("df4f")},df4f:function(e,t,a){},e05a:function(e,t,a){},e15d:function(e,t,a){"use strict";a("0d6a")},eeb8:function(e,t,a){"use strict";a("b4c7")},ffae:function(e,t,a){"use strict";a("03a8")}});
//# sourceMappingURL=app.b6070f0d.js.map